(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5855dcd2"],{1005:function(t,e,c){"use strict";c("82a4")},"38a0":function(t,e,c){"use strict";c("88e6")},"3c07":function(t,e,c){},"4c22":function(t,e,c){"use strict";c.r(e);var r=c("7a23");Object(r["w"])("data-v-0008cb4b");var i=Object(r["g"])("div",{class:"background"},null,-1);function a(t,e,c,a,s,n){var o=Object(r["A"])("art-view-top"),l=Object(r["A"])("art-view-main");return Object(r["t"])(),Object(r["f"])("div",{class:"ArtView",onScroll:e[0]||(e[0]=function(t){return n.scrollIt(t)}),onTouchstart:e[1]||(e[1]=function(){return n.touchstart&&n.touchstart.apply(n,arguments)}),onTouchmove:e[2]||(e[2]=function(){return n.touchmove&&n.touchmove.apply(n,arguments)}),onTouchend:e[3]||(e[3]=function(){return n.touchend&&n.touchend.apply(n,arguments)})},[i,Object(r["i"])(o,{ref:"artViewTop",artistId:t.$route.query.id},null,8,["artistId"]),Object(r["i"])(l,{artistId:t.$route.query.id},null,8,["artistId"])],32)}Object(r["u"])();c("b0c0"),c("a4d3"),c("e01a");Object(r["w"])("data-v-0483bbfe");var s={ref:"root",class:"ArtViewTop"},n={class:"coverDiv"},o=["src"],l={ref:"nav"},u={class:"card"},d={ref:"avatar",class:"avatar"},b=["src"],v={class:"infocard"},f={class:"name"},h={class:"info"},g={class:"album"},O={class:"number"},j=Object(r["h"])("专辑 "),p=Object(r["g"])("div",{class:"vertical"}," | ",-1),m={class:"music"},y={class:"number"},w=Object(r["h"])("歌曲 "),T=Object(r["g"])("div",{class:"vertical"}," | ",-1),I={class:"mv"},k={class:"number"},$=Object(r["h"])(" MV "),C={class:"description"};function S(t,e,c,i,a,S){var A=Object(r["A"])("icon");return Object(r["t"])(),Object(r["f"])("div",s,[Object(r["g"])("div",n,[Object(r["g"])("img",{ref:"cover",onLoad:e[0]||(e[0]=function(t){return S.imgLoaded(t)}),class:"cover",src:a.artist.cover},null,40,o)]),Object(r["g"])("nav",l,[Object(r["g"])("div",{class:"back",onClick:e[1]||(e[1]=function(e){return t.$router.back()})},[Object(r["i"])(A,{style:{fill:"white"},iconName:"icon-fanhuizuojiantou"}),Object(r["I"])(Object(r["g"])("span",null,Object(r["C"])(a.artist.name),513),[[r["F"],a.passTop]])]),Object(r["g"])("div",null,[Object(r["i"])(A,{style:{fill:"white"},onClick:S.showToast,iconName:"icon-liebiao"},null,8,["onClick"])])],512),Object(r["g"])("main",null,[Object(r["g"])("section",u,[Object(r["g"])("div",d,[Object(r["g"])("img",{onLoad:e[2]||(e[2]=function(t){return S.imgLoaded(t)}),onError:e[3]||(e[3]=function(t){return S.imgError()}),class:"avatarImg",src:a.user.avatarUrl},null,40,b)],512),Object(r["g"])("div",v,[Object(r["g"])("div",f,Object(r["C"])(a.artist.name),1),Object(r["g"])("div",h,[Object(r["g"])("div",g,[Object(r["g"])("span",O,Object(r["C"])(a.artist.albumSize),1),j]),p,Object(r["g"])("div",m,[Object(r["g"])("span",y,Object(r["C"])(a.artist.musicSize),1),w]),T,Object(r["g"])("div",I,[Object(r["g"])("span",k,Object(r["C"])(a.artist.mvSize),1),$])]),Object(r["g"])("div",C,Object(r["C"])(a.user.description),1)])])])],512)}Object(r["u"])();var A=c("1da1"),x=(c("96cf"),c("4de4"),c("365c")),V=c("cdae"),L={props:{artistId:String},components:{Icon:V["a"]},data:function(){return{artist:{},user:{},scrollLock:!1,scrollTop:0,passTop:!1,coverHeight:267,touchLock:!1,maxHeight:500,last:0}},methods:{showToast:function(){this.$store.dispatch("showToast",{type:"error",note:"功能暂未开发"})},imgLoaded:function(t){var e=t.currentTarget.parentElement;e.style.zIndex="auto",console.log(e)},imgError:function(){console.log("Error")},touchstart:function(t){this.$refs.cover.style.transition="none"},touchmove:function(t){var e=t.currentTarget;if(0===e.scrollTop){if(0===this.last)return void(this.last=t.targetTouches[0].pageY);this.$refs.cover.style.height=Math.min(this.maxHeight,this.coverHeight+t.targetTouches[0].pageY-this.last)+"px"}else this.last=0},touchend:function(){this.$refs.cover.style.transition="all 0.5s ease-in-out",this.$refs.cover.style.height=this.coverHeight+"px",this.last=0},scrollIt:function(t){var e=this;if(!this.scrollLock){this.scrollLock=!0,setTimeout((function(){e.scrollLock=!1}),20),this.scrollTop=t.scrollTop;var c=this.$refs.cover.clientHeight-40,r=1-this.scrollTop/c;this.$refs.cover.style.filter="opacity(".concat(r,")"),this.$refs.avatar.style.filter="opacity(".concat(r,")"),r=this.scrollTop/c,this.$refs.nav.style.backgroundColor="rgba(56, 56, 56, ".concat(r,")"),this.passTop=r>=1}}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.artistId),e.next=3,Object(x["a"])(t.artistId);case 3:c=e.sent,console.log(c),t.artist=c.data.data.artist,c.data.data.user?t.user=c.data.data.user:c.data.data.identify&&(t.user=c.data.data.identify,t.user.description=t.user.imageDesc,t.user.avatarUrl=t.artist.cover);case 7:case"end":return e.stop()}}),e)})))()}};c("1005");L.render=S,L.__scopeId="data-v-0483bbfe";var M=L;Object(r["w"])("data-v-be1ed382");var N={class:"ArtViewMain"},z={class:"ArtViewMain-top"},H=Object(r["g"])("div",{class:"text"},[Object(r["g"])("div",{class:"title"}," 播放热门50首 ")],-1),_=Object(r["g"])("button",{class:"right"}," + 收藏 ",-1),E={class:"list"},J=["onClick"],R={class:"index"},q={class:"content"},D={class:"title"},P={class:"right"};function U(t,e,c,i,a,s){var n=Object(r["A"])("icon");return Object(r["t"])(),Object(r["f"])("div",N,[Object(r["g"])("div",z,[Object(r["g"])("div",{class:"left",onClick:e[0]||(e[0]=function(t){return s.playAll(a.list)})},[Object(r["i"])(n,{iconName:"icon-bofang"}),H]),_]),Object(r["g"])("div",E,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["z"])(a.list,(function(t,e){return Object(r["t"])(),Object(r["f"])("div",{class:"playItem",key:e},[Object(r["g"])("div",{class:"left",onClick:function(t){return s.changeMusic(a.list,e)}},[Object(r["g"])("div",R,Object(r["C"])(e+1),1),Object(r["g"])("div",q,[Object(r["g"])("div",D,Object(r["C"])(t.name),1),Object(r["g"])("div",{class:Object(r["o"])(["author",{vip:1===t.copyright}])},Object(r["C"])(s.getArtists(t.ar,t.al)),3)])],8,J),Object(r["g"])("div",P,[Object(r["i"])(n,{iconName:"icon-bofang"}),Object(r["i"])(n,{iconName:"icon-liebiao1"})])])})),128))])])}Object(r["u"])();var Y=c("5530"),F=(c("a15b"),c("d81d"),c("5502")),B={props:{artistId:String},data:function(){return{list:[]}},components:{Icon:V["a"]},beforeMount:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["c"])(t.artistId);case 2:c=e.sent,console.log(c),t.list=c.data.songs;case 5:case"end":return e.stop()}}),e)})))()},methods:Object(Y["a"])(Object(Y["a"])({},Object(F["c"])(["setPlayIndex","setPlaylist"])),{},{changeMusic:function(t,e){this.$store.dispatch("changeMusic",{playlist:JSON.parse(JSON.stringify(t)),playIndex:e})},playAll:function(t){this.changeMusic(t,0)},getArtists:function(t,e){var c=t.map((function(t){return t.name})).join(", ");return e&&e.name&&(c+=" - "+e.name),c}})};c("38a0");B.render=U,B.__scopeId="data-v-be1ed382";var G=B,K={data:function(){return{}},components:{ArtViewTop:M,ArtViewMain:G},methods:{scrollIt:function(t){this.$refs.artViewTop.scrollIt(t.currentTarget)},touchstart:function(t){this.$refs.artViewTop.touchstart(t)},touchmove:function(t){this.$refs.artViewTop.touchmove(t)},touchend:function(t){this.$refs.artViewTop.touchend(t)}}};c("f0d8");K.render=a,K.__scopeId="data-v-0008cb4b";e["default"]=K},"82a4":function(t,e,c){},"88e6":function(t,e,c){},e01a:function(t,e,c){"use strict";var r=c("23e7"),i=c("83ab"),a=c("da84"),s=c("5135"),n=c("861d"),o=c("9bf2").f,l=c("e893"),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof b?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(b,u);var v=b.prototype=u.prototype;v.constructor=b;var f=v.toString,h="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;o(v,"description",{configurable:!0,get:function(){var t=n(this)?this.valueOf():this,e=f.call(t);if(s(d,t))return"";var c=h?e.slice(7,-1):e.replace(g,"$1");return""===c?void 0:c}}),r({global:!0,forced:!0},{Symbol:b})}},f0d8:function(t,e,c){"use strict";c("3c07")}}]);
//# sourceMappingURL=chunk-5855dcd2.f6581932.js.map