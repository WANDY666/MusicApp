(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9cdb2a2"],{"20bc":function(t,e,c){},3432:function(t,e,c){"use strict";c("cc83")},4055:function(t,e,c){"use strict";c.r(e);var i=c("7a23");Object(i["w"])("data-v-7a679c9f");var n={ref:"main"},s={class:"more"};function a(t,e,c,a,o,r){var l=Object(i["A"])("list-view-top"),u=Object(i["A"])("list-view-main");return Object(i["t"])(),Object(i["f"])("div",{ref:"listView",class:"listView",onScroll:e[0]||(e[0]=function(){return r.scroll&&r.scroll.apply(r,arguments)})},[Object(i["g"])("div",n,[Object(i["i"])(l,{list:o.list},null,8,["list"]),Object(i["i"])(u,{list:o.list},null,8,["list"]),Object(i["I"])(Object(i["g"])("div",s," 正在加载... ",512),[[i["F"],!r.hasLoaded]])],512)],544)}Object(i["u"])();var o=c("1da1"),r=(c("a15b"),c("d81d"),c("fb6a"),c("99af"),c("96cf"),c("365c"));c("b0c0");Object(i["w"])("data-v-964a6ab0");var l={class:"playlist"},u={class:"playlist-top"},b={class:"text"},d=Object(i["g"])("div",{class:"title"}," 播放全部 ",-1),j={class:"num"},O={class:"right"},f={class:"list"},g=["onClick"],v={class:"index"},p={class:"content"},h={class:"title"},m={class:"author"},k={class:"right"};function w(t,e,c,n,s,a){var o=Object(i["A"])("icon");return Object(i["t"])(),Object(i["f"])("div",l,[Object(i["g"])("div",u,[Object(i["g"])("div",{class:"left",onClick:e[0]||(e[0]=function(t){return a.playAll(c.list.tracks)})},[Object(i["i"])(o,{iconName:"icon-bofang"}),Object(i["g"])("div",b,[d,Object(i["g"])("div",j," （共"+Object(i["C"])(c.list.trackCount)+"首） ",1)])]),Object(i["g"])("button",O," + 收藏（"+Object(i["C"])(a.playCount(c.list.subscribedCount))+"） ",1)]),Object(i["g"])("div",f,[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(c.list.tracks,(function(t,e){return Object(i["t"])(),Object(i["f"])("div",{class:"playItem",key:e},[Object(i["g"])("div",{class:"left",onClick:function(t){return a.changeMusic(c.list.tracks,e)}},[Object(i["g"])("div",v,Object(i["C"])(e+1),1),Object(i["g"])("div",p,[Object(i["g"])("div",h,Object(i["C"])(t.name),1),Object(i["g"])("div",m,Object(i["C"])(a.getArtists(t.ar,t.al)),1)])],8,g),Object(i["g"])("div",k,[Object(i["i"])(o,{iconName:"icon-bofang"}),Object(i["i"])(o,{iconName:"icon-liebiao1"})])])})),128))])])}Object(i["u"])();var C=c("5530"),y=(c("b680"),c("cdae")),I=c("5502"),x={props:{list:Object},components:{Icon:y["a"]},methods:Object(C["a"])(Object(C["a"])({playCount:function(t){var e=t;return t>=1e8?(e=t/1e8,e=e.toFixed(2)+"亿"):t>=1e4&&(e=t/1e4,e=e.toFixed(2)+"万"),e}},Object(I["c"])(["setPlayIndex","setPlaylist"])),{},{changeMusic:function(t,e){this.$store.dispatch("changeMusic",{playlist:JSON.parse(JSON.stringify(t)),playIndex:e})},playAll:function(t){this.changeMusic(t,0)},getArtists:function(t,e){var c=t.map((function(t){return t.name})).join(", ");return e&&e.name&&(c+=" - "+e.name),c}})};c("73ab");x.render=w,x.__scopeId="data-v-964a6ab0";var N=x;c("a4d3"),c("e01a");Object(i["w"])("data-v-6e4f199c");var L={ref:"listViewTop",class:"listViewTop"},T=["src"],V={class:"listViewTopNav"},S=Object(i["g"])("div",{class:"title"}," 歌单 ",-1),$={class:"content"},A={class:"content-left"},_=["src"],M={class:"count"},F={class:"content-right"},z={class:"author"},J=["src"],R={class:"description"},H={class:"iconItem"},U={class:"iconItem"},P={class:"iconItem"},q=Object(i["g"])("span",null,"下载",-1),B={class:"iconItem"},D=Object(i["g"])("span",null,"多选",-1);function E(t,e,c,n,s,a){var o=Object(i["A"])("icon");return Object(i["t"])(),Object(i["f"])("div",L,[Object(i["g"])("img",{class:"bg",src:c.list.coverImgUrl},null,8,T),Object(i["g"])("div",V,[Object(i["g"])("div",{class:"back",onClick:e[0]||(e[0]=function(e){return t.$router.back()})},[Object(i["i"])(o,{iconName:"icon-fanhuizuojiantou"}),S]),Object(i["g"])("div",{class:"right",onClick:e[1]||(e[1]=function(t){return a.showToast()})},[Object(i["i"])(o,{class:"search",iconName:"icon-sousuo"}),Object(i["i"])(o,{iconName:"icon-liebiao"})])]),Object(i["g"])("div",$,[Object(i["g"])("div",A,[Object(i["g"])("img",{ref:"cover",class:"cover",src:c.list.coverImgUrl,alt:"",onLoad:e[2]||(e[2]=function(t){return a.finishImg("cover")})},null,40,_),Object(i["g"])("div",M,[Object(i["i"])(o,{iconName:"icon-play"}),Object(i["h"])(" "+Object(i["C"])(a.playCount(c.list.playCount)),1)])]),Object(i["g"])("div",F,[Object(i["g"])("h3",null,Object(i["C"])(c.list.name),1),Object(i["g"])("div",z,[Object(i["g"])("img",{ref:"header",src:c.list.creator.avatarUrl,class:"header",onLoad:e[3]||(e[3]=function(t){return a.finishImg("header")})},null,40,J),Object(i["g"])("span",null,Object(i["C"])(c.list.creator.nickname),1)]),Object(i["g"])("div",R,Object(i["C"])(c.list.description),1)])]),Object(i["g"])("div",{class:"HomeIconList",onClick:e[4]||(e[4]=function(t){return a.showToast()})},[Object(i["g"])("div",H,[Object(i["i"])(o,{iconName:"icon-dilanxianxingiconyihuifu_huabanfuben"}),Object(i["g"])("span",null,Object(i["C"])(c.list.commentCount),1)]),Object(i["g"])("div",U,[Object(i["i"])(o,{iconName:"icon-fenxiang"}),Object(i["g"])("span",null,Object(i["C"])(c.list.shareCount),1)]),Object(i["g"])("div",P,[Object(i["i"])(o,{iconName:"icon-xiazai"}),q]),Object(i["g"])("div",B,[Object(i["i"])(o,{iconName:"icon-xuanze-duoxuan-tianchong"}),D])])],512)}Object(i["u"])();var G={props:{list:Object},components:{Icon:y["a"]},methods:{finishImg:function(){console.log(this),this.$refs.listViewTop.style.backgroundColor="transparent"},playCount:function(t){var e=t;return t>=1e8?(e=t/1e8,e=e.toFixed(2)+"亿"):t>=1e4&&(e=t/1e4,e=e.toFixed(2)+"万"),e},showToast:function(){this.$store.dispatch("showToast",{type:"error",note:"功能暂未开发"})}}};c("e8e6");G.render=E,G.__scopeId="data-v-6e4f199c";var K=G,Q={data:function(){return{list:{creator:{},trackIds:[]},singleLoadNum:20,loadedCount:0,loadMore:!1,scrollLock:!1}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["i"])(t.$route.query.id);case 2:c=e.sent,console.log(c),t.list=c.data.playlist,t.loadedCount=t.list.tracks.length;case 6:case"end":return e.stop()}}),e)})))()},components:{ListViewTop:K,ListViewMain:N},computed:{hasLoaded:function(){return this.loadedCount>=this.list.trackIds.length}},methods:{scroll:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var c,i,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.hasLoaded){e.next=2;break}return e.abrupt("return");case 2:if(!t.scrollLock){e.next=4;break}return e.abrupt("return");case 4:if(t.scrollLock=!0,c=t.$refs.listView.scrollHeight,i=t.$refs.listView.scrollTop,n=t.$refs.listView.clientHeight,!(c-30<=i+n)){e.next=14;break}return s=t.list.trackIds.slice(t.loadedCount,t.loadedCount+t.singleLoadNum).map((function(t){return t.id})).join(","),e.next=12,Object(r["g"])(s);case 12:a=e.sent,t.list.tracks=t.list.tracks.concat(a.data.songs);case 14:setTimeout((function(){t.scrollLock=!1}),20);case 15:case"end":return e.stop()}}),e)})))()}}};c("3432");Q.render=a,Q.__scopeId="data-v-7a679c9f";e["default"]=Q},"73ab":function(t,e,c){"use strict";c("f704")},cc83:function(t,e,c){},e01a:function(t,e,c){"use strict";var i=c("23e7"),n=c("83ab"),s=c("da84"),a=c("5135"),o=c("861d"),r=c("9bf2").f,l=c("e893"),u=s.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var b={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(b[e]=!0),e};l(d,u);var j=d.prototype=u.prototype;j.constructor=d;var O=j.toString,f="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;r(j,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=O.call(t);if(a(b,t))return"";var c=f?e.slice(7,-1):e.replace(g,"$1");return""===c?void 0:c}}),i({global:!0,forced:!0},{Symbol:d})}},e8e6:function(t,e,c){"use strict";c("20bc")},f704:function(t,e,c){}}]);
//# sourceMappingURL=chunk-c9cdb2a2.979e3de8.js.map